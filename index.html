<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="JoshieScript%20Online%20-%20Savaka%27s%20GitHub%20Page_files/savaka-style.css">
	<title>JoshieScript Online - Savaka's GitHub Page</title>
	<script src="JoshieScript%20Online%20-%20Savaka%27s%20GitHub%20Page_files/templategenerator.js"></script>
	<script>
		var tg = {
			levels: 1,
			sitename: 'JoshieScript Online',
			repo: 'joshiescript-online',
			home: true
		}
	</script>
	<script>
		var mem = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];
		function resetmem() {
			mem = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];
		};
		function go(num) {
			var textfield = document.getElementById('in');
			var form = document.getElementById('forms');
			form.style.display = 'none';
			if (num == 1) {
				var script = importt(textfield.value);
				textfield.value = '';
				resetmem();
				parse(script);
			}
		};
		function importt(text) {
			res = text.split(';');
			res.splice(res.length - 1, 1);
			return res;
		};
		function sleep(time) {
			var currentTime = new Date().getTime();
			while (currentTime + time >= new Date().getTime()) {
				
			}
		}
		function parse(code) {
			var tmp = [];
			var temp = '';
			var temp2 = '';
			looping: {
				for (i = 0; i < code.length; i++) {
					switch (code[i]) {
						case 'out':
							i++;
							if (code[i][0] == '"') {
								log(code[i].substring(1, code[i].length - 1));
							} else {
								log(mem[code[i]-1]);
							}
							break;
						case 'add':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							if (tmp[0][0] == '/') {
								temp = tmp[0].substring(1);
								temp = mem[temp-1];
							} else {
								temp = tmp[0];
							}
							if (tmp[1][0] == '/') {
								temp2 = tmp[1].substring(1);
								temp2 = mem[temp2-1];
							} else {
								temp2 = tmp[1];
							}
							mem[tmp[2]-1] = temp + temp2;
							break;
						case 'sub':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							if (tmp[0][0] == '/') {
								temp = tmp[0].substring(1);
								temp = mem[temp-1];
							} else {
								temp = tmp[0];
							}
							if (tmp[1][0] == '/') {
								temp2 = tmp[1].substring(1);
								temp2 = mem[temp2-1];
							} else {
								temp2 = tmp[1];
							}
							mem[tmp[2]-1] = temp - temp2;
							break;
						case 'mult':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							if (tmp[0][0] == '/') {
								temp = tmp[0].substring(1);
								temp = mem[temp-1];
							} else {
								temp = tmp[0];
							}
							if (tmp[1][0] == '/') {
								temp2 = tmp[1].substring(1);
								temp2 = mem[temp2-1];
							} else {
								temp2 = tmp[1];
							}
							mem[tmp[2]-1] = temp * temp2;
							break;
						case 'div':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							if (tmp[0][0] == '/') {
								temp = tmp[0].substring(1);
								temp = mem[temp-1];
							} else {
								temp = tmp[0];
							}
							if (tmp[1][0] == '/') {
								temp2 = tmp[1].substring(1);
								temp2 = mem[temp2-1];
							} else {
								temp2 = tmp[1];
							}
							mem[tmp[2]-1] = temp / temp2;
							break;
						case 'mov':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							mem[tmp[0]-1] = mem[tmp[1]-1];
							break;
						case 'set':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							mem[tmp[0]-1] = tmp[1];
							break;
						case 'jump':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i = tmp[0]-1;
							break;
						case 'input':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							mem[tmp[1]-1] = prompt(tmp[0]);
							break;
						case 'wait':
							tmp = [];
							i++;
							sleep(code[i]*1000);
							//error('wait is not supported');
							break;
						case 'if':
							tmp = [];
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							i++;
							tmp.push(code[i]);
							if (tmp[0][0] == '/') {
								temp = tmp[0].substring(1);
								temp = mem[temp-1];
							} else {
								temp = tmp[0];
							}
							if (tmp[2][0] == '/') {
								temp2 = tmp[2].substring(1);
								temp2 = mem[temp2-1];
							} else {
								temp2 = tmp[2];
							}
							switch (tmp[1]) {
								case '=':
									if (!(temp == temp2)) {
										while (!(code[i] == 'end')) {
											i++;
										}
									}
									break;
								case '>':
									if (!(temp > temp2)) {
										while (!(code[i] == 'end')) {
											i++;
										}
									}
									break;
								case '<':
									if (!(temp == temp2)) {
										while (!(code[i] == 'end')) {
											i++;
										}
									}
									break;
								default:
									error('[IF] Syntax error: '.concat(i));
									break looping;
							}
						case 'end':
							break;
						case '':
							break;
						default:
							error('Syntax error: '.concat(i));
							break looping;
					}
				}
			}
		};
		function log(text) {
			document.getElementById('console').innerHTML += '<br/>' + text.toString();
		};
		function error(text) {
			console.log(text);
		};
	</script>
</head>
<body><header><a href="https://savaka2.github.io/index.html"><img src="JoshieScript%20Online%20-%20Savaka%27s%20GitHub%20Page_files/savakafull-small.PNG" style="display:inline;"></a><span style="display:inline; font-size:2em; font-weight:normal; vertical-align:50%;"> <a href="javascript:switchSite();">â†’ JoshieScript Online</a></span> <img src="JoshieScript%20Online%20-%20Savaka%27s%20GitHub%20Page_files/home-button-selected.png"><a href="https://github.com/savaka2/joshiescript-online"><img src="JoshieScript%20Online%20-%20Savaka%27s%20GitHub%20Page_files/gh.png" style="display:inline;"></a></header><div id="siteswitcher" style="display: none;"><h1>Switch Site</h1><p>GitHub projects:</p><ul id="ssProjects"><li><a href="https://savaka2.github.io/scratch-extensions/index.html">Scratch Extensions</a></li><li><a href="https://savaka2.github.io/ext-open/index.html">Ext Open</a></li><li><a href="https://savaka2.github.io/scratch-extensions-directory/index.html">Scratch Extensions Directory</a></li></ul><p><a href="javascript:showMore();">Show more</a></p><div id="morepages" style="display:none"><ul id="ssMore"><li><a href="https://savaka2.github.io/something/index.html">Something</a></li><li><a href="https://savaka2.github.io/letterboxing/index.html">Letterboxing</a></li></ul></div><p><a href="javascript:switchSite();">Close siteswitcher</a></p></div>
	<main>
	<h1>JoshieScript Online</h1>
	<p>This is not finished<!-- replace with description --></p>
	<p>Reload the page if you want to use it again</p>
	<div id="forms"><input id="in" placeholder="Paste exported code" type="text"><button onclick="go(1);">Submit</button></div>
	<div id="console" style="font-family:monospace"></div>
	</main>


</body></html>
